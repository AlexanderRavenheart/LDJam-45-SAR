[gd_scene load_steps=6 format=2]

[ext_resource path="res://Assets/mainMenu/pod_off.png" type="Texture" id=1]
[ext_resource path="res://Assets/mainMenu/pod_on.png" type="Texture" id=2]
[ext_resource path="res://Systems/LevelWarp.tscn" type="PackedScene" id=3]

[sub_resource type="SpriteFrames" id=1]
animations = [ {
"frames": [ ExtResource( 1 ), ExtResource( 2 ) ],
"loop": true,
"name": "default",
"speed": 2.0
} ]

[sub_resource type="GDScript" id=2]
script/source = "extends AnimatedSprite

export (bool) var random_props := false
export (int) var move_speed := 25
export (float) var rotation_speed := 0.2
export (int) var rotation_direction := 1
export (Vector2) var move_direction := Vector2(1, 0.5)

var motion := Vector2()

func _ready()->void:
	if random_props:
		move_speed = rand_range(10, 100)
		rotation_speed = rand_range(0.1, 1.5)
		if (randi() % 10) < 5:
			rotation_direction = -1
		else:
			rotation_direction = 1
		move_direction = Vector2( rand_range(-1, 1), rand_range(-1, 1) )

func _process(delta):
	motion = move_direction * move_speed
	position += motion * delta
	
	rotation_degrees += rotation_direction * rotation_speed
"

[node name="PlayerCapsule" type="AnimatedSprite"]
frames = SubResource( 1 )
frame = 1
playing = true
script = SubResource( 2 )

[node name="LevelWarp" parent="." instance=ExtResource( 3 )]
